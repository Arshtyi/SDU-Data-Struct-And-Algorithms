实现如下，注意压缩后指标的变化即可

```cpp
#include <iostream>
#include <stdexcept>
using namespace std;
class AdjacencyMatrix
{
private:
    int n, **a;

public:
    AdjacencyMatrix(int n): n(n)
    {
        a = new int *[n - 1];
        for (int i = 0; i < n - 1; ++i)
        {
            a[i] = new int[n];
            for (int j = 0; j < n; ++j)
                a[i][j] = 0;
        }
    }
    ~AdjacencyMatrix()
    {
        for (int i = 0; i < n - 1; ++i)
            delete[] a[i];
        delete[] a;
    }
    void set(int i, int j, int value)
    {
        if (i == j)
            throw invalid_argument("Diagonal elements are not stored.");
        if (i < j)
            a[i - 1][j - 1] = value;
        else
            a[i - 2][j - 1] = value;
    }
    int get(int i, int j)
    {
        if (i == j)
            return 0;
        if (i < j)
            return a[i - 1][j - 1];
        else
            return a[i - 2][j - 1];
    }
    int getSize() { return n; }
};
```
